{"version":3,"sources":["news-list.js","./src/js/news-list.js","./src/js/ui/paging.js"],"names":["webpackJsonp","module","exports","require","Paging","size","current","showSize","container","itemType","action","alert","mixin","a","b","key","hasOwnProperty","getIndex","pages","defaults","item","items","half","Math","floor","startIndex","endIndex","i","getPrev","prev","getNext","next","$","options","$container","this","show","proto","prototype","indexs","html","bind","_action","that","$prev","find","$next","$items","off","on","e","_index","currentTarget","data"],"mappings":"AAAAA,cAAc,IAER,SAASC,EAAQC,EAASC,GCFhC,GAAAC,GAAAD,EAAA,EAEA,IAAAC,IACAC,KAAA,GACAC,QAAA,EACAC,SAAA,EACAC,UAAA,SACAC,SAAA,OACAC,OAAA,SAAAJ,GACAK,MAAA,QAAAL,ODUO,CACA,CAED,SAASL,EAAQC,EAASC,GEhBhC,QAAAS,GAAAC,EAAAC,GACA,OAAAC,KAAAD,GACAA,EAAAE,eAAAD,KACAF,EAAAE,GAAAD,EAAAC,GAGA,OAAAF,GA4DA,QAAAI,KACA,GAAAC,GAAAC,EAAAd,KACAE,EAAAY,EAAAZ,SACAa,EAAAD,EAAAV,SACAH,EAAAa,EAAAb,QACAe,EAAA,GACAC,EAAAC,KAAAC,MAAAjB,EAAA,GAEAkB,EAAAnB,EAAAgB,EAAAhB,EAAAgB,EAAA,IACAI,EAAAR,GAAAZ,EAAAgB,EAAAhB,EAAAgB,EAAAJ,CAEA,QAAAA,GAAA,CACA,OAAAS,GAAAF,EAAgCC,EAAAC,EAAcA,IAE9CN,GADAf,IAAAqB,EAAA,EACA,IAAAP,EAAA,oCAAAO,EAAA,SAAAA,EAAA,QAAAP,EAAA,IAEA,IAAAA,EAAA,4BAAAO,EAAA,SAAAA,EAAA,QAAAP,EAAA,GAGA,OAAAC,IAEA,QAAAO,KACA,GAAAV,GAAAC,EAAAd,KACAe,EAAAD,EAAAV,SACAoB,EAAA,EAKA,OAHAX,GAAA,OAAAC,EAAAb,UACAuB,EAAA,IAAAT,EAAA,sBAAAA,EAAA,KAEAS,EAEA,QAAAC,KACA,GAAAZ,GAAAC,EAAAd,KACAe,EAAAD,EAAAV,SACAsB,EAAA,EAKA,OAHAb,GAAA,GAAAC,EAAAb,UAAAY,IACAa,EAAA,IAAAX,EAAA,sBAAAA,EAAA,KAEAW,EA3GA,GAAAC,GAAA7B,EAAA,GAUAgB,GACAd,KAAA,EACAE,SAAA,EACAD,QAAA,EACAE,UAAA,SACAC,SAAA,OACAC,OAAA,MAEAN,EAAA,SAAA6B,GACAd,EAAAP,EAAAO,EAAAc,GACAd,EAAAe,WAAAF,EAAA,IAAAb,EAAAX,WACA2B,KAAAC,QAEAC,EAAAjC,EAAAkC,SACAD,GAAAD,KAAA,WACA,GAAAG,GAAAtB,IACAY,EAAAD,IACAG,EAAAD,IACAI,EAAAf,EAAAe,UAEAA,KACAA,EAAAM,KAAAX,EAAAU,EAAAR,GACAI,KAAAM,SAEAJ,EAAAI,KAAA,WA2BA,QAAAC,KACAC,EAAAP,OACAjB,EAAAT,QAAA,kBAAAS,GAAAT,QACAS,EAAAT,OAAAS,EAAAb,SA7BA,GAAA4B,GAAAf,EAAAe,WACAU,EAAAV,EAAAW,KAAA,SACAC,EAAAZ,EAAAW,KAAA,SACAE,EAAAb,EAAAW,KAAA,SACA3B,EAAAC,EAAAd,KACAsC,EAAAR,IAEAS,GAAAI,MAAAC,GAAA,mBACA9B,EAAAb,QAAA,IACAa,EAAAb,SAAA,GAEAoC,MAEAI,EAAAE,MAAAC,GAAA,mBACA9B,EAAAb,QAAAY,IACAC,EAAAb,SAAA,GAEAoC,MAEAK,EAAAC,MAAAC,GAAA,iBAAAC,GACA,GAAAC,GAAAnB,EAAAkB,EAAAE,eAAAC,KAAA,MACAlC,GAAAb,SAAA6C,EACAT,OAqDAzC,EAAAC,QAAAE","file":"news-list.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */\n/***/ function(module, exports, require) {\n\n\tvar Paging = require(3);\n\t\n\tvar Page = new Paging({\n\t    size: 10,    //页数\n\t    current: 2,\n\t    showSize: 5,\n\t    container: 'paging', //父容器id\n\t    itemType: 'span', //分页dom类型\n\t    action: function(current) {\n\t        alert('page:' + current);\n\t    }\n\t});\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ function(module, exports, require) {\n\n\t/**\n\t    分页组件\n\t*/\n\t    \n\t    var $ = require(1);\n\t\n\t    function mixin(a, b) {\n\t        for(var key in b) {\n\t            if (b.hasOwnProperty(key)) {\n\t                a[key] = b[key];\n\t            }\n\t        }\n\t        return a;\n\t    }\n\t    var defaults = {\n\t        size: 0,    //页数\n\t        showSize: 5,\n\t        current: 1,\n\t        container: 'paging', //父容器id\n\t        itemType: 'span', //分页dom类型\n\t        action: null //点击分页回调函数\n\t    };\n\t    var Paging  = function (options) {\n\t        defaults = mixin(defaults, options);\n\t        defaults.$container = $('#' + defaults.container);\n\t        this.show();\n\t    };\n\t    var proto = Paging.prototype;\n\t    proto.show = function () {\n\t        var indexs = getIndex();\n\t        var prev = getPrev();\n\t        var next = getNext();\n\t        var $container = defaults.$container;\n\t\n\t        if (! $container) return;\n\t        $container.html(prev + indexs + next);\n\t        this.bind();\n\t    };\n\t    proto.bind = function () {\n\t        var $container = defaults.$container;\n\t        var $prev = $container.find('.prev');\n\t        var $next = $container.find('.next');\n\t        var $items = $container.find('.item');\n\t        var pages = defaults.size;\n\t        var that = this;\n\t\n\t        $prev.off().on('click', function() {\n\t            if (defaults.current > 1) {\n\t                defaults.current -= 1; \n\t            }\n\t            _action();\n\t        });\n\t        $next.off().on('click', function() {\n\t            if (defaults.current < pages) {\n\t                defaults.current += 1;\n\t            }\n\t            _action();\n\t        });\n\t        $items.off().on('click', function(e) {\n\t            var _index = $(e.currentTarget).data(\"num\");\n\t            defaults.current = +_index;\n\t            _action();\n\t        });\n\t\n\t        //外部回调\n\t        function _action() {\n\t            that.show();\n\t            if (defaults.action && typeof defaults.action === 'function') {\n\t                defaults.action(defaults.current);\n\t            }\n\t        }\n\t    };\n\t    function getIndex() {\n\t        var pages = defaults.size;\n\t        var showSize = defaults.showSize;\n\t        var item = defaults.itemType;\n\t        var current = defaults.current;\n\t        var items = '';\n\t        var half = Math.floor(showSize/2);\n\t\n\t        var startIndex = current > half ? (current - half - 1) : 0;\n\t        var endIndex = (current + half <= pages) ? (current + half) : pages;\n\t\n\t        if (pages < 1) return;\n\t        for (var i = startIndex; i < endIndex; i++) {\n\t            if (current === i + 1) {\n\t                items  += '<' + item + ' class=\"actived item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\n\t            } else {\n\t                items  += '<' + item + ' class=\"item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\n\t            }\n\t        }\n\t        return items;\n\t    }\n\t    function getPrev() {\n\t        var pages = defaults.size;\n\t        var item = defaults.itemType;\n\t        var prev = '';\n\t\n\t        if (pages > 1 && defaults.current !== 1) {\n\t            prev = '<' + item + ' class=\"prev\">上一页</' + item + '>';\n\t        }\n\t        return prev;\n\t    }\n\t    function getNext() {\n\t        var pages = defaults.size;\n\t        var item = defaults.itemType;\n\t        var next = '';\n\t\n\t        if (pages > 1 && defaults.current !== pages) {\n\t            next = '<' + item + ' class=\"next\">下一页</' + item + '>';\n\t        }\n\t        return next;\n\t    }\n\t\n\t    module.exports = Paging;\n\n\n/***/ }\n])","var Paging = require('ui/paging.js');\n\nvar Page = new Paging({\n    size: 10,    //页数\n    current: 2,\n    showSize: 5,\n    container: 'paging', //父容器id\n    itemType: 'span', //分页dom类型\n    action: function(current) {\n        alert('page:' + current);\n    }\n});\n","/**\n    分页组件\n*/\n    \n    var $ = require('jquery');\n\n    function mixin(a, b) {\n        for(var key in b) {\n            if (b.hasOwnProperty(key)) {\n                a[key] = b[key];\n            }\n        }\n        return a;\n    }\n    var defaults = {\n        size: 0,    //页数\n        showSize: 5,\n        current: 1,\n        container: 'paging', //父容器id\n        itemType: 'span', //分页dom类型\n        action: null //点击分页回调函数\n    };\n    var Paging  = function (options) {\n        defaults = mixin(defaults, options);\n        defaults.$container = $('#' + defaults.container);\n        this.show();\n    };\n    var proto = Paging.prototype;\n    proto.show = function () {\n        var indexs = getIndex();\n        var prev = getPrev();\n        var next = getNext();\n        var $container = defaults.$container;\n\n        if (! $container) return;\n        $container.html(prev + indexs + next);\n        this.bind();\n    };\n    proto.bind = function () {\n        var $container = defaults.$container;\n        var $prev = $container.find('.prev');\n        var $next = $container.find('.next');\n        var $items = $container.find('.item');\n        var pages = defaults.size;\n        var that = this;\n\n        $prev.off().on('click', function() {\n            if (defaults.current > 1) {\n                defaults.current -= 1; \n            }\n            _action();\n        });\n        $next.off().on('click', function() {\n            if (defaults.current < pages) {\n                defaults.current += 1;\n            }\n            _action();\n        });\n        $items.off().on('click', function(e) {\n            var _index = $(e.currentTarget).data(\"num\");\n            defaults.current = +_index;\n            _action();\n        });\n\n        //外部回调\n        function _action() {\n            that.show();\n            if (defaults.action && typeof defaults.action === 'function') {\n                defaults.action(defaults.current);\n            }\n        }\n    };\n    function getIndex() {\n        var pages = defaults.size;\n        var showSize = defaults.showSize;\n        var item = defaults.itemType;\n        var current = defaults.current;\n        var items = '';\n        var half = Math.floor(showSize/2);\n\n        var startIndex = current > half ? (current - half - 1) : 0;\n        var endIndex = (current + half <= pages) ? (current + half) : pages;\n\n        if (pages < 1) return;\n        for (var i = startIndex; i < endIndex; i++) {\n            if (current === i + 1) {\n                items  += '<' + item + ' class=\"actived item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\n            } else {\n                items  += '<' + item + ' class=\"item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\n            }\n        }\n        return items;\n    }\n    function getPrev() {\n        var pages = defaults.size;\n        var item = defaults.itemType;\n        var prev = '';\n\n        if (pages > 1 && defaults.current !== 1) {\n            prev = '<' + item + ' class=\"prev\">上一页</' + item + '>';\n        }\n        return prev;\n    }\n    function getNext() {\n        var pages = defaults.size;\n        var item = defaults.itemType;\n        var next = '';\n\n        if (pages > 1 && defaults.current !== pages) {\n            next = '<' + item + ' class=\"next\">下一页</' + item + '>';\n        }\n        return next;\n    }\n\n    module.exports = Paging;\n"],"sourceRoot":"webpack-module://"}